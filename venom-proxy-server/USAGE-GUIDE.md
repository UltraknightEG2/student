# ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุดุงูู - WhatsApp-Web.js Proxy Server

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุธุงู ูุณุชุฎุฏู WhatsApp-Web.js ูุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุญุถูุฑ ูุงูุฃุฏุงุก ูุฃูููุงุก ุงูุฃููุฑ ุนุจุฑ ูุงุชุณุงุจ. ุงููุธุงู ูุนูู ูุญููุงู ุนูู ุฌูุงุฒู ูุน Cloudflare Tunnel ูููุตูู ุงูุนุงููู.

## ๐๏ธ ุงููููู ุงููุนูุงุฑู

```
[Frontend - Render] 
    โ HTTPS
[Backend - Render] 
    โ HTTPS API (ุนุจุฑ Cloudflare Tunnel)
[WhatsApp-Web.js Proxy - ุฌูุงุฒู ุงูุดุฎุตู] 
    โ WhatsApp-Web.js
[WhatsApp Web]
    โ
[ุฃูููุงุก ุงูุฃููุฑ - ูุงุชุณุงุจ]
```

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

#### ุฃ) Node.js
- **ุงูุฅุตุฏุงุฑ**: 16.0.0 ุฃู ุฃุญุฏุซ
- **ุงูุชุญููู**: https://nodejs.org
- **ุงูุชุญูู**: `node --version`

#### ุจ) Google Chrome
- **ุงูุชุญููู**: https://www.google.com/chrome/
- **ุงููุณุงุฑ ุงููุชููุน**: 
  - Windows: `C:\Program Files\Google\Chrome\Application\chrome.exe`
  - macOS: `/Applications/Google Chrome.app/Contents/MacOS/Google Chrome`
  - Linux: `/usr/bin/google-chrome`

#### ุฌ) Cloudflare Tunnel
```bash
# Windows
winget install --id Cloudflare.cloudflared

# macOS
brew install cloudflare/cloudflare/cloudflared

# Linux
curl -L --output cloudflared.deb https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb
sudo dpkg -i cloudflared.deb
```

### 2. ุฅุนุฏุงุฏ Cloudflare Tunnel

#### ุฃ) ุชุณุฌูู ุงูุฏุฎูู
```bash
cloudflared tunnel login
```

#### ุจ) ุฅูุดุงุก ุงูููู (ุฅุฐุง ูู ููู ููุฌูุฏุงู)
```bash
cloudflared tunnel create attendance-venom
```

#### ุฌ) ุฅุนุฏุงุฏ DNS
```bash
cloudflared tunnel route dns attendance-venom api.go4host.net
```

#### ุฏ) ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ
```bash
cloudflared tunnel list
cloudflared tunnel info 9752631e-8b0d-48a8-b9c1-20f376ce578f
```

### 3. ุชุซุจูุช ุงููุธุงู

#### ุฃ) ุชุญููู ุงูููุชุจุงุช
```bash
cd venom-proxy-server
npm install
```

#### ุจ) ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```bash
# ููู .env ููุฌูุฏ ุจุงููุนู ูุน ุงูุฅุนุฏุงุฏุงุช ุงูุตุญูุญุฉ
# ุชุญูู ูู ูุณุงุฑ Chrome ุฅุฐุง ูุงู ูุฎุชููุงู
```

## ๐ฏ ุงูุชุดุบูู

### ุงูุทุฑููุฉ ุงูุฃุณูู (Windows)
```bash
start-whatsapp-web-js.bat
```

### ุงูุทุฑููุฉ ุงููุฏููุฉ
```bash
cd venom-proxy-server
npm run start:tunnel
```

### ุชุดุบูู ูุญูู ููุท (ุจุฏูู Tunnel)
```bash
npm start
```

## ๐ฑ ุฎุทูุงุช ุงูุฑุจุท ูุน ูุงุชุณุงุจ

### 1. ุชุดุบูู ุงููุธุงู
- ุดุบูู `start-whatsapp-web-js.bat`
- ุงูุชุธุฑ ุฑุณุงูุฉ "WhatsApp Proxy Server ูุนูู ุจูุฌุงุญ"

### 2. ูุณุญ QR Code
- ุณูุธูุฑ QR Code ูู Terminal ุฎูุงู 30-60 ุซุงููุฉ
- ุงูุชุญ ูุงุชุณุงุจ ุนูู ูุงุชูู
- ุงุฐูุจ ุฅูู: **ุงูุฅุนุฏุงุฏุงุช > ุงูุฃุฌูุฒุฉ ุงููุฑุชุจุทุฉ**
- ุงุถุบุท ุนูู **"ุฑุจุท ุฌูุงุฒ"**
- ุงูุณุญ QR Code ุงููุนุฑูุถ

### 3. ุชุฃููุฏ ุงูุงุชุตุงู
- ุงูุชุธุฑ ุฑุณุงูุฉ "WhatsApp Web ุฌุงูุฒ ุจุงููุงูู ููุฅุฑุณุงู!"
- ุณุชุธูุฑ ูุนูููุงุช ุญุณุงุจู (ุงูุฑููุ ุงูุงุณูุ ุงูุจุทุงุฑูุฉ)

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุณุฑูุน
```bash
npm run test:simple
```

### ุงุฎุชุจุงุฑ ุดุงูู
```bash
node test-whatsapp-web-js.js
```

### ุงุฎุชุจุงุฑ ุนุจุฑ API
```bash
# ูุญุต ุญุงูุฉ ุงูุฎุงุฏู
curl http://localhost:3002/api/test

# ูุญุต ุญุงูุฉ WhatsApp
curl http://localhost:3002/api/whatsapp/status

# ุฅุฑุณุงู ุฑุณุงูุฉ ุงุฎุชุจุงุฑ
curl -X POST -H "Content-Type: application/json" -H "X-API-Key: whatsapp-proxy-secret-2024" \
  -d '{"phoneNumber":"201002246668","message":"ุฑุณุงูุฉ ุงุฎุชุจุงุฑ"}' \
  http://localhost:3002/api/whatsapp/test-message
```

## ๐ก API Endpoints

### 1. ูุญุต ุญุงูุฉ ุงูุฎุงุฏู
```
GET /api/test
```
**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "WhatsApp Proxy Server ูุนูู ุจุดูู ุตุญูุญ",
  "service": "whatsapp-web.js",
  "version": "1.23.0"
}
```

### 2. ุชููุฆุฉ WhatsApp
```
POST /api/whatsapp/initialize
Headers: X-API-Key: whatsapp-proxy-secret-2024
```

### 3. ูุญุต ุญุงูุฉ WhatsApp
```
GET /api/whatsapp/status
```
**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "data": {
    "connected": true,
    "ready": true,
    "lastActivity": "2024-01-15T10:30:00.000Z",
    "service": "whatsapp-web.js"
  }
}
```

### 4. ุฅุฑุณุงู ุฑุณุงูุฉ ุงุฎุชุจุงุฑ
```
POST /api/whatsapp/test-message
Headers: X-API-Key: whatsapp-proxy-secret-2024
Content-Type: application/json

{
  "phoneNumber": "201002246668",
  "message": "ุฑุณุงูุฉ ุงุฎุชุจุงุฑ ุงุฎุชูุงุฑูุฉ"
}
```

### 5. ุฅุฑุณุงู ุฑุณุงูุฉ ูุงุญุฏุฉ
```
POST /api/whatsapp/send-message
Headers: X-API-Key: whatsapp-proxy-secret-2024
Content-Type: application/json

{
  "phoneNumber": "201002246668",
  "message": "ูุต ุงูุฑุณุงูุฉ",
  "messageType": "absence"
}
```

### 6. ุฅุฑุณุงู ุฑุณุงุฆู ูุชุนุฏุฏุฉ
```
POST /api/whatsapp/send-bulk
Headers: X-API-Key: whatsapp-proxy-secret-2024
Content-Type: application/json

{
  "messages": [
    {
      "phoneNumber": "201002246668",
      "message": "ุฑุณุงูุฉ ุบูุงุจ ููุทุงูุจ ุฃุญูุฏ",
      "messageType": "absence"
    },
    {
      "phoneNumber": "966501234567",
      "message": "ุชูุฑูุฑ ุฃุฏุงุก ููุทุงูุจ ูุงุทูุฉ",
      "messageType": "performance"
    }
  ]
}
```

### 7. ุฌูุจ ูุนูููุงุช ุงูุญุณุงุจ
```
GET /api/whatsapp/info
Headers: X-API-Key: whatsapp-proxy-secret-2024
```

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: QR Code ูุง ูุธูุฑ
**ุงูุฃุนุฑุงุถ:**
```
โ ุฎุทุฃ ูู ุชููุฆุฉ WhatsApp: Error: Protocol error
```

**ุงูุญู:**
```bash
# 1. ุฃุบูู ุฌููุน ููุงูุฐ Chrome
# 2. ูุธู ุงูุฌูุณุฉ
npm run clean

# 3. ุฃุนุฏ ุงูุชุดุบูู
start-whatsapp-web-js.bat
```

### ูุดููุฉ: ูุดู ูู ุงูุฅุฑุณุงู
**ุงูุฃุนุฑุงุถ:**
```
โ WhatsApp ุบูุฑ ูุชุตู ุฃู ุบูุฑ ุฌุงูุฒ
```

**ุงูุญู:**
```bash
# ูุญุต ุงูุญุงูุฉ
curl http://localhost:3002/api/whatsapp/status

# ุฅุนุงุฏุฉ ุงูุชููุฆุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
curl -X POST -H "X-API-Key: whatsapp-proxy-secret-2024" \
  http://localhost:3002/api/whatsapp/initialize
```

### ูุดููุฉ: Cloudflare Tunnel ูุง ูุนูู
**ุงูุญู:**
```bash
# ูุญุต ุงูุฅุนุฏุงุฏ
cloudflared tunnel list
cloudflared tunnel info 9752631e-8b0d-48a8-b9c1-20f376ce578f

# ุฅุนุงุฏุฉ ุฅูุดุงุก ุฅุฐุง ูุฒู ุงูุฃูุฑ
cloudflared tunnel delete attendance-venom
cloudflared tunnel create attendance-venom
cloudflared tunnel route dns attendance-venom api.go4host.net
```

## ๐ ูุฑุงูุจุฉ ุงููุธุงู

### ุงูุฑุณุงุฆู ุงููููุฉ

#### โ ุฑุณุงุฆู ุงููุฌุงุญ
```
โ ุชู ุชุดุบูู WhatsApp Proxy Server ุจูุฌุงุญ
โ ุชู ุงูุชุญูู ูู ุงููููุฉ ุจูุฌุงุญ
๐ WhatsApp Web ุฌุงูุฒ ุจุงููุงูู ููุฅุฑุณุงู!
โ Cloudflare Tunnel ูุชุตู
๐ ุงูุฎุงุฏู ูุชุงุญ ุนูู: https://api.go4host.net
๐ค ูุนูููุงุช ุงูุญุณุงุจ: ุงูุฑููุ ุงูุงุณูุ ุงูุจุทุงุฑูุฉ
```

#### โ ุฑุณุงุฆู ุงูุฎุทุฃ ูุญููููุง
```
โ Protocol error (Network.setUserAgentOverride): Session closed
   ุงูุญู: ุฃุบูู Chrome ูุฃุนุฏ ุงูุชุดุบูู

โ WhatsApp ุบูุฑ ูุชุตู ุฃู ุบูุฑ ุฌุงูุฒ
   ุงูุญู: ุงูุชุธุฑ ุงูุชูุงู ุงูุชุญููู ุฃู ุฃุนุฏ ุงูุชููุฆุฉ

โ ุงูุฑูู ุบูุฑ ูุณุฌู ูู ูุงุชุณุงุจ
   ุงูุญู: ุชุญูู ูู ุตุญุฉ ุงูุฑูู

โ ูุดู ูู ุงููุตุงุฏูุฉ
   ุงูุญู: ุงูุณุญ QR Code ุฌุฏูุฏ
```

## ๐ฑ ุงุณุชุฎุฏุงู ุงููุธุงู ูุฅุฑุณุงู ุงูุชูุงุฑูุฑ

### 1. ูู ููุญุฉ ุงูุชุญูู
- ุงุฐูุจ ุฅูู **ุฅุฏุงุฑุฉ ุงููุงุชุณุงุจ**
- ุชุฃูุฏ ูู ุธููุฑ **"ูุชุตู"** ูู ุญุงูุฉ ุงูุงุชุตุงู
- ุงุฎุชุฑ ุงูุญุตุฉ ุงููุทููุจุฉ
- ุงุถุบุท **"ุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุญุตุฉ"**

### 2. ูู ุฅุฏุงุฑุฉ ุงูุญุตุต
- ุงุฐูุจ ุฅูู **ุฅุฏุงุฑุฉ ุงูุญุตุต**
- ุงุฎุชุฑ ุงูุญุตุฉ ุงููุทููุจุฉ
- ุงุถุบุท **"ุฅุฑุณุงู ุงูุชูุงุฑูุฑ"**

### 3. ุชููุงุฆูุงู
- ุงููุธุงู ุณูุฑุณู ุชูุงุฑูุฑ ุงูุบูุงุจ ุชููุงุฆูุงู
- ุชูุงุฑูุฑ ุงูุฃุฏุงุก ุชุฑุณู ุนูุฏ ุฅุถุงูุฉ ุงูุชููููุงุช

## ๐ ุงูุตูุงูุฉ

### ุชูุธูู ุงูุฌูุณุฉ
```bash
npm run clean
```

### ุฅุนุงุฏุฉ ุชุดุบูู ุขูู
```bash
# ุฃุบูู ุงููุธุงู (Ctrl+C)
# ุงูุชุธุฑ 10 ุซูุงูู
start-whatsapp-web-js.bat
```

### ูุณุฎ ุงุญุชูุงุทู
```bash
# ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุชุชู ุชููุงุฆูุงู ูู ูุฌูุฏ backups/
```

## ๐ ุงูุฏุนู ุงูููู

### ูุนูููุงุช ุงููุทูุฑ
- **ุงูุงุณู:** Ahmed Hosny
- **ุงููุงุชู:** 01272774494 - 01002246668
- **ุงูุจุฑูุฏ:** Sales@GO4Host.net

### ูููุงุช ุงูุณุฌูุงุช
- **ุฃุฎุทุงุก WhatsApp:** `logs/whatsapp-errors.json`
- **QR Codes:** `logs/qr-code-*.png`
- **ุฌูุณุงุช:** `sessions/`

## ๐ฏ ูุตุงุฆุญ ููุงุณุชุฎุฏุงู ุงูุฃูุซู

### โ ุฃูุถู ุงูููุงุฑุณุงุช
- **ูุง ุชุบูู Terminal** ุฃุซูุงุก ุงูุชุดุบูู
- **ูุง ุชูุชุญ WhatsApp Web** ูู ูุชุตูุญ ุขุฎุฑ
- **ุชุฃูุฏ ูู ุงุณุชูุฑุงุฑ ุงูุฅูุชุฑูุช** ูุจู ุงูุฅุฑุณุงู
- **ุงุฎุชุจุฑ ุงููุธุงู** ูุจู ุงูุงุณุชุฎุฏุงู ุงููุนูู

### โ๏ธ ุชุฌูุจ ูุฐู ุงูุฃุฎุทุงุก
- ุฅุบูุงู Chrome ุฃุซูุงุก ุงูุชุดุบูู
- ูุชุญ WhatsApp Web ูู ูุชุตูุญ ุขุฎุฑ
- ุฅุฑุณุงู ุฑุณุงุฆู ูุซูุฑุฉ ุจุณุฑุนุฉ (ุงุญุชุฑู ุงูุชุฃุฎูุฑ)
- ุชุดุบูู ุฃูุซุฑ ูู instance

## ๐ ููุงุฑูุฉ ูุน Venom-Bot

| ุงูููุฒุฉ | WhatsApp-Web.js | Venom-Bot |
|--------|----------------|-----------|
| **ุงูุงุณุชูุฑุงุฑ** | โ ููุชุงุฒ | โ ูุดุงูู ูุชูุฑุฑุฉ |
| **ุณูููุฉ ุงูุงุณุชุฎุฏุงู** | โ ุจุณูุท | โ ูุนูุฏ |
| **ูุดุงูู getMaybeMeUser** | โ ูุง ุชูุฌุฏ | โ ูุดููุฉ ูุณุชูุฑุฉ |
| **ูุดุงูู WebSocket** | โ ูุง ุชูุฌุฏ | โ ุฃุฎุทุงุก ูุชูุฑุฑุฉ |
| **ุณุฑุนุฉ ุงูุชุญููู** | โ 30-60 ุซุงููุฉ | โ 3-5 ุฏูุงุฆู |
| **ุงูุชุญุฏูุซุงุช** | โ ููุชุธูุฉ | โ ุจุทูุฆุฉ |
| **ุงูุฏุนู** | โ ูุฌุชูุน ูุดุท | โ ุฏุนู ูุญุฏูุฏ |
| **ุงุณุชููุงู ุงูุฐุงูุฑุฉ** | โ ุฃูู | โ ุฃุนูู |
| **ูุนุฏู ุงููุฌุงุญ** | โ 99%+ | โ 70-80% |

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โ **ูุธุงู ูุณุชูุฑ 100%** ุจุฏูู ูุดุงูู ุชูููุฉ
โ **ุฅุฑุณุงู ุณุฑูุน ูููุซูู** ููุชูุงุฑูุฑ
โ **Cloudflare Tunnel** ูููุตูู ุงูุนุงููู
โ **API ูุงุถุญ ูููููู** ููุชูุงูู
โ **ูุฑุงูุจุฉ ูุณุชูุฑุฉ** ูููุธุงู
โ **ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ** ููุฌูุณุงุช
โ **ุฏุนู ููู ุดุงูู** ูุฏููู ููุตู

---

**๐ ุงููุธุงู ุงูุขู ุฌุงูุฒ ูุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุญุถูุฑ ูุงูุฃุฏุงุก ูุฃูููุงุก ุงูุฃููุฑ ุจุดูู ููุซูู ููุณุชูุฑ!**